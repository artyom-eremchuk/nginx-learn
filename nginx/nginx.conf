events {
    worker_connections 1024;
}

http {
    server {
        listen 80;
        server_name localhost;
        
        # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
        location / {
            return 200 '
                <html>
                    <head><meta charset="UTF-8"></head>
                    <body style="font-family: Arial; padding: 20px;">
                        <h1>üß™ NGINX Reverse Proxy Demo</h1>
                        <p>–î–≤–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∑–∞ –æ–¥–Ω–∏–º nginx:</p>
                        <ul>
                            <li><a href="/app1">/app1</a> ‚Üí –ü–µ—Ä–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–ø–æ—Ä—Ç 3000)</li>
                            <li><a href="/app2">/app2</a> ‚Üí –í—Ç–æ—Ä–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–ø–æ—Ä—Ç 3001)</li>
                        </ul>
                        <p>–≠—Ç–æ <strong>Reverse Proxy</strong> - —Ä–∞–∑–Ω—ã–µ –ø—É—Ç–∏ –≤–µ–¥—É—Ç –∫ —Ä–∞–∑–Ω—ã–º —Å–µ—Ä–≤–∏—Å–∞–º.</p>
                    </body>
                </html>
            ';
            add_header Content-Type "text/html; charset=utf-8";
        }
        
        # Reverse Proxy –Ω–∞ App 1
        location /app1 {
            proxy_pass http://node-app-1:3000/;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
        }
        
        # Reverse Proxy –Ω–∞ App 2
        location /app2 {
            proxy_pass http://node-app-2:3001/;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
        }
    }
}